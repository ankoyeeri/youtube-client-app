<div class="login">
  <h2>Login</h2>
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <div class="form-group">
      <label for="login">login</label>
      <input type="text" name="login" formControlName="login" />
      <div
        class="status"
        [ngClass]="{
          'status-warning': isValid(login)
        }"
      ></div>
    </div>

    <div class="form-group errors">
      <span *ngIf="hadnleValidatorError(login, 'required')"
        >* Please enter a login email</span
      >
      <span *ngIf="hadnleValidatorError(login, 'email')"
        >* The login email is invalid</span
      >
    </div>

    <div class="form-group">
      <label for="password">password</label>
      <input type="password" name="password" formControlName="password" />
      <div
        class="status"
        [ngClass]="{
          'status-warning': isValid(password)
        }"
      ></div>
    </div>

    <div class="form-group errors">
      <span *ngIf="hadnleValidatorError(password, 'required')"
        >* Please enter a password</span
      >
      <span *ngIf="hadnleValidatorError(password, 'forbiddenPassword')"
        >* Your password isn't strong enough</span
      >
    </div>

    <div class="buttons">
      <button type="button" class="reg-btn" routerLink="/registration">
        Registration
      </button>
      <button
        type="submit"
        class="login-btn"
        [disabled]="!form.valid"
        *ngIf="!isLoggedIn"
      >
        Login
      </button>
    </div>
  </form>
</div>
